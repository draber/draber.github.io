!function(){"use strict";const t={version:"4.5.0",label:"Spelling Bee Assistant",title:"Assistant",url:"https://spelling-bee-assistant.app/",prefix:"sba",support:{url:"https://ko-fi.com/sbassistant",text:"Buy me a coffee"},targetUrl:"https://www.nytimes.com/puzzles/spelling-bee",options:JSON.parse(localStorage.getItem("sba-settings")||"{}")},e=()=>{localStorage.setItem(t.prefix+"-settings",JSON.stringify(t.options))};t.options.version&&t.options.version!==t.version&&(t.options.oldVersion=t.options.version),t.options.version=t.version,e();var a=e=>{let a=Object.create(t);for(let t of e.split(".")){if(void 0===a[t])return;a=a[t]}return a},o=(a,o)=>{const s=a.split("."),r=s.pop();let n=t;for(let t of s){if(n[t]||(n[t]={}),"[object Object]"!==Object.prototype.toString.call(n))return console.error(`${t} is not of the type Object`),!1;n=n[t]}n[r]=o,e()};const s=a("prefix"),r=t=>t.replace(/[_-]+/," ").replace(/(?:^[\w]|[A-Z]|\b\w|\s+)/g,(function(t,e){return 0==+t?"":0===e?t.toLowerCase():t.toUpperCase()})),n=(t="",e="c")=>{switch(e){case"c":return r(s+"_"+t);case"d":return(t=>t.replace(/[\W_]+/g," ").split(/ |\B(?=[A-Z])/).map((t=>t.toLowerCase())).join("-"))(s+t.charAt(0).toUpperCase()+t.slice(1));default:return s+t}};let i;const l=window.gameData.today;let d;const c=()=>{i.foundPangrams=i.foundTerms.filter((t=>i.pangrams.includes(t))),i.remainders=i.answers.filter((t=>!i.foundTerms.includes(t))),d.trigger(n("refreshUi"))};var p,h,u=(t,e)=>{d=t,(t=>{i={answers:l.answers,pangrams:l.pangrams,letters:l.validLetters,foundTerms:t},c()})(e),d.on(n("newWord"),(t=>{var e;e=t.detail,i.foundTerms.push(e),c()}))},b=t=>i[t],m=t=>i[t].length,g=t=>{const e=i[t];let a=0;return e.forEach((t=>{i.pangrams.includes(t)?a+=t.length+7:t.length>4?a+=t.length:a+=1})),a},f=()=>({display:l.displayDate,print:l.printDate}),v=()=>l.centerLetter;class y{getState(){const t=a(`options.${this.key}`);return void 0!==t?t:this.defaultState}setState(t){return this.canChangeState&&o(`options.${this.key}`,t),this}toggle(t){return this.canChangeState?(this.setState(t),this.hasUi()&&this.ui.classList.toggle("inactive",!t),this):this}hasUi(){return this.ui instanceof HTMLElement}on(t,e){return this.hasUi()&&this.ui.addEventListener(t,e),this}trigger(t,e){return this.hasUi()&&this.ui.dispatchEvent(e?new CustomEvent(t,{detail:e}):new Event(t)),this}constructor(t,{key:e,canChangeState:a,defaultState:o}={}){if(!t)throw new TypeError(`Missing 'title' from ${this.constructor.name}`);this.title=t,this.key=e||r(t),this.canChangeState=void 0!==a&&a,this.defaultState=void 0===o||o,this.setState(this.getState()),this.ui=null}}class w extends y{attach(){return this.hasUi()?(this.ui.dataset.ui=this.key,(this.target||this.app.ui)[this.addMethod](this.ui),this):this}add(){return this.attach()}run(t){return this}constructor(t,e,a,{key:o,canChangeState:s,defaultState:r,menuIcon:n,runEvt:i,addMethod:l}={}){super(e,{key:o,canChangeState:s,defaultState:r}),this.target,this.description=a||"",this.app=t,this.addMethod=l||"append",this.menuIcon=n||"checkbox",this.shortcuts=[],i&&this.app.on(i,(t=>{this.run(t)}))}}class x extends w{toggle(t){return super.toggle(t),document.body.dataset[n("theme")]=t?"dark":"light",this}constructor(t){super(t,"Dark Mode","Applies a dark theme to this page",{canChangeState:!0,defaultState:!1}),this.shortcuts=[{combo:"Shift+Alt+D",method:"toggle"}],this.toggle(this.getState())}}function k(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S=function(){if(h)return p;h=1;const t={$:(t,e=null)=>"string"==typeof t?(e||document).querySelector(t):t||null,$$:(t,e=null)=>[].slice.call((e||document).querySelectorAll(t)),waitFor:function(e,a=null){return new Promise((o=>{const s=()=>{const r=t.$(e,a);r?o(r):requestAnimationFrame(s)};s()}))},toNode:t=>{if(t.forEach&&"function"==typeof t.forEach||(t=[t]),1===(t=t.map((t=>(t=>{if(void 0===t)return document.createDocumentFragment();if(t instanceof Element||t instanceof DocumentFragment)return t;if("number"==typeof t&&(t=t.toString()),"string"==typeof t||t instanceof String){if(!/<(.*)>/.test(t))return document.createTextNode(t);let e;const a=t.includes("<svg")?"image/svg+xml":"text/html",o=(new DOMParser).parseFromString(t,a);return o.body?(e=document.createDocumentFragment(),Array.from(o.body.childNodes).forEach((t=>{e.append(t)})),e):o.documentElement}console.error("Expected Element|DocumentFragment|String|HTMLCode|SVGCode, got",t)})(t)))).length)return t[0];{const e=document.createDocumentFragment();return t.forEach((t=>{e.append(t)})),e}},empty:t=>{for(;t.lastChild;)t.lastChild.remove();return t.textContent="",t}};return p=new Proxy(t,{get:(e,a)=>function(){const o=Array.from(arguments);return Object.prototype.hasOwnProperty.call(e,a)&&e[a]instanceof Function?(e[a].bind(e),e[a].apply(null,o)):function({tag:e,content:a,attributes:o={},style:s={},data:r={},aria:n={},events:i={},classNames:l=[],isSvg:d=!1}={}){const c=d?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);if(new Map([["class","className"],["for","htmlFor"],["tabindex","tabIndex"],["nomodule","noModule"],["contenteditable","contentEditable"],["accesskey","accessKey"]]).forEach(((t,e)=>{void 0===o[t]&&o[e]&&(o[t]=o[e]),delete o[e]})),o.style){const t={};o.style.split(";").forEach((e=>{const a=e.split(":").map((t=>t.trim()));t[a[0]]=a[1]})),s={...t,...s},delete o.style}for(let[t,e]of Object.entries(o))d?c.setAttributeNS(null,t,e.toString()):!1!==e&&(c[t]=e);for(let[t,e]of Object.entries(n))t="role"===t?t:"aria-"+t,c.setAttribute(t.toLowerCase(),e);for(let[t,e]of Object.entries(r))e=e.toString(),c.dataset[t]=e;for(const[t,e]of Object.entries(i))c.addEventListener(t,e,!1);return Object.assign(c.style,s),l.length&&c.classList.add(...l),void 0!==a&&c.append(t.toNode(a)),c}({tag:a,...o.shift()})}}),p}(),z=k(S);const _=t=>{for(let e of[".pz-moment__frame.on-stage .pz-moment__close",".pz-moment__frame.on-stage .pz-moment__close_text",".sb-modal-close"]){const a=z.$(e,t.gameWrapper);if(a)return a}return!1},C=()=>{const t=document.querySelector(".sb-hive-input > .sb-hive-input-content"),e=document.querySelector(".sb-hive-hidden-input .sb-hive-input-content");if(!t||!e)return;const a=t=>{t.lastElementChild&&"SPAN"===t.lastElementChild.tagName&&t.removeChild(t.lastElementChild),0===t.children.length&&t.classList.remove("non-empty")};a(t),a(e)};class E{enableKeyClose(){return document.addEventListener("keyup",(t=>{this.app.popupCloser=_(this.app),this.app.popupCloser&&"Escape"===t.code&&this.app.popupCloser.click(),delete this.app.popupCloser})),this}getTarget(){const t=n("popup-container","d");let e=z.$(`[data-ui="${t}"]`);return e||(e=z.template({data:{ui:t}}),z.$("body").append(e)),e}create(){return z.div({classNames:["sb-modal-frame",n("pop-up","d")],aria:{role:"button"},data:{ui:this.key},events:{click:t=>{t.stopPropagation()}},content:[z.div({classNames:["sb-modal-top"],content:z.div({aria:{role:"button"},classNames:["sb-modal-close"],content:"Ã—",events:{click:()=>{this.toggle(!1)}}})}),z.div({classNames:["sb-modal-content"],content:[z.div({classNames:["sb-modal-header"],content:[this.parts.title,this.parts.subtitle]}),this.parts.body,this.parts.footer]})]})}setContent(t,e){return this.parts[t]?(this.parts[t]=z.empty(this.parts[t]),this.parts[t].append(z.toNode(e)),this):(console.error(`Unknown target ${t}`),this)}toggle(t){const e=_(this.app);return!t&&e&&e.click(),t?(this.app.modalWrapper.append(this.ui),this.modalSystem.classList.add("sb-modal-open"),this.isOpen=!0):(this.getTarget().append(this.ui),this.modalSystem.classList.remove("sb-modal-open"),this.isOpen=!1),this}constructor(t,e){this.key=e,this.app=t,this.state=!1,this.isOpen=!1,this.modalSystem=this.app.modalWrapper.closest(".sb-modal-system"),this.parts={title:z.h3({classNames:["sb-modal-title"]}),subtitle:z.p({classNames:["sb-modal-message"]}),body:z.div({classNames:["sb-modal-body"]}),footer:z.div({classNames:["sb-modal-message","sba-modal-footer"],content:[z.a({content:a("label"),attributes:{href:a("url"),target:n()}})]})},this.ui=this.create(),this.enableKeyClose(),this.getTarget().append(this.ui)}}class N extends w{toggle(t){return z.$$("[data-sba-theme]").forEach((e=>{e.style.setProperty("--dhue",t.hue),e.style.setProperty("--dsat",t.sat+"%")})),super.toggle(t)}togglePopup(){if(this.popup.isOpen)return this.popup.toggle(!1),this;this.popup.toggle(!0),z.$("input:checked",this.popup.ui).focus()}constructor(t){super(t,"Dark Mode Colors","Select your favorite color scheme for the Dark Mode.",{canChangeState:!0,defaultState:{hue:0,sat:0}}),this.menuAction="popup",this.menuIcon="null";const e=z.ul({classNames:[n("swatches","d")]});for(let t=0;t<360;t+=30){const a=0===t?0:25;e.append(z.li({content:[z.input({attributes:{name:"color-picker",type:"radio",value:t,checked:t===this.getState().hue,id:n("h"+t)},events:{change:()=>{this.toggle({hue:t,sat:a})}}}),z.label({attributes:{htmlFor:n("h"+t)},style:{background:`hsl(${t}, ${a}%, 22%)`}})]}))}this.popup=new E(this.app,this.key).setContent("title",this.title).setContent("subtitle",this.description).setContent("body",z.div({classNames:[n("color-selector","d")],content:[e,z.div({classNames:["hive"],content:[z.svg({classNames:["hive-cell","outer"],attributes:{viewBox:"0 0 24 21"},isSvg:!0,content:[z.path({classNames:["cell-fill"],isSvg:!0,attributes:{d:"M18 21H6L0 10.5 6 0h12l6 10.5z"}}),z.text({classNames:["cell-letter"],attributes:{x:"50%",y:"50%",dy:"0.35em"},isSvg:!0,content:"s"})]})]})]})),this.popup.ui.dataset[n("theme")]="dark",this.toggle(this.getState())}}class P extends w{constructor(t){super(t,a("title"),"",{key:"header"}),this.ui=z.div({content:[z.div({classNames:["sba-title"],content:this.title})]})}}class A extends w{run(t){let e=100*g("foundTerms")/g("answers");return e=Math.min(Number(Math.round(e+"e2")+"e-2"),100),this.ui.value=e,this.ui.textContent=e+"%",this.ui.title=`Progress: ${e}%`,this}constructor(t){super(t,"Progress Bar","Displays your progress as a yellow bar",{canChangeState:!1,runEvt:n("refreshUi"),addMethod:"before"}),this.ui=z.progress({attributes:{max:100}}),t.on(n("pluginsReady"),(t=>{this.app.plugins.has("yourProgress")&&(this.ui.style.cursor="pointer")})),this.target=z.$(".sb-wordlist-heading",this.app.gameWrapper)}}class $ extends w{run(t){this.pane=z.empty(this.pane);const e=z.tbody(),a=this.getData();this.hasHeadRow&&this.pane.append(this.buildHead(a.shift()));const o=a.length;let s=0;return a.forEach(((t,a)=>{s=t.length;const r=[];for(const[e,s]of Object.entries(this.cssMarkers))s(t,a,o)&&r.push(n(e,"d"));const i=z.tr({classNames:r});t.forEach(((t,e)=>{const a=0===e&&this.hasHeadCol?"th":"td";i.append(z[a]({content:t}))})),e.append(i)})),this.pane.dataset.cols=s,this.pane.append(e),this}buildHead(t){return z.thead({content:z.tr({content:t.map((t=>z.th({content:t})))})})}getPane(){return this.pane}constructor(t,e,a,{canChangeState:o=!0,defaultState:s=!0,cssMarkers:r={},hasHeadRow:i=!0,hasHeadCol:l=!0}={}){super(t,e,a,{canChangeState:o,defaultState:s}),t.on(n("refreshUi"),(()=>{this.run()})),this.cssMarkers=r,this.hasHeadRow=i,this.hasHeadCol=l,this.pane=z.table({classNames:["pane",n("dataPane","d")]})}}class M extends ${constructor(t,{title:e,description:a,shortcuts:o=[],canChangeState:s=!1,defaultState:r=!0,hasHeadCol:n=!0,hasHeadRow:i=!0,cssMarkers:l={},open:d=!1}){super(t,e,a,{canChangeState:s,defaultState:r,cssMarkers:l,hasHeadRow:i,hasHeadCol:n}),this.shortcuts=o,this.ui=z.details({content:[z.summary({content:e}),this.getPane()],attributes:{open:d}}),this.togglePane=()=>this.ui.open=!this.ui.open}}class T extends M{getData(){const t=["foundTerms","remainders","answers"];return[["","âœ“","?","âˆ‘"],["W"].concat(t.map((t=>m(t)))),["P"].concat(t.map((t=>g(t))))]}constructor(t){super(t,{title:"Overview",description:"The number of words and points and how many have been found",shortcuts:[{combo:"Shift+Alt+O",method:"togglePane"}],open:!0})}}class L extends w{run(t){let e="ðŸ™‚";return t.detail?b("remainders").filter((e=>e.startsWith(t.detail.textContent.trim()))).length||(e="ðŸ™"):e="ðŸ˜",this.ui.textContent=e,this}toggle(t){return t&&this.app.domSet("submenu",!1),void 0===t&&(t=!this.getState()),super.toggle(t)}constructor(t){super(t,"Spill the beans","An emoji that shows if the last letter was right or wrong",{canChangeState:!0,runEvt:n("newInput"),addMethod:"prepend"}),this.ui=z.div({content:"ðŸ˜"}),this.target=z.$(".sb-controls",this.app.gameWrapper),this.toggle(!1),this.shortcuts=[{combo:"Shift+Alt+E",method:"toggle"}]}}class O extends M{getData(){const t={},e=[["","âœ“","?","âˆ‘"]];b("answers").forEach((e=>{t[e.length]=t[e.length]||{found:0,missing:0,total:0},b("foundTerms").includes(e)?t[e.length].found++:t[e.length].missing++,t[e.length].total++}));let a=Object.keys(t);return a.sort(((t,e)=>t-e)),a.forEach((a=>{e.push([a,t[a].found,t[a].missing,t[a].total])})),e}constructor(t){super(t,{title:"Letter count",description:"The number of words by length",cssMarkers:{completed:(t,e)=>0===t[2]},shortcuts:[{combo:"Shift+Alt+L",method:"togglePane"}]})}}let j=class extends M{getData(){const t={},e=b("answers").sort(),a=b("remainders"),o={foundTerms:0,remainders:0,total:0};e.forEach((e=>{const s=e.charAt(0);void 0===t[s]&&(t[s]={...o}),a.includes(e)?t[s].remainders++:t[s].foundTerms++,t[s].total++}));const s=[["","âœ“","?","âˆ‘"]];for(let[e,a]of Object.entries(t))a=Object.values(a),a.unshift(e),s.push(a);return s}constructor(t){super(t,{title:"First letter",description:"The number of words by first letter",cssMarkers:{completed:(t,e)=>0===t[2],preeminent:(t,e)=>t[0]===v()},shortcuts:[{combo:"Shift+Alt+F",method:"togglePane"}]})}};class D extends M{getData(){const t={},e=b("answers").sort(),a=b("remainders"),o={foundTerms:0,remainders:0,total:0};e.forEach((e=>{const s=e.slice(0,2);void 0===t[s]&&(t[s]={...o}),a.includes(e)?t[s].remainders++:t[s].foundTerms++,t[s].total++}));const s=[["","âœ“","?","âˆ‘"]];for(let[e,a]of Object.entries(t))a=Object.values(a),a.unshift(e),s.push(a);return s}constructor(t){super(t,{title:"First two letters",description:"The number of words by the first two letters",cssMarkers:{completed:(t,e)=>0===t[2]},shortcuts:[{combo:"Shift+Alt+2",method:"togglePane"}]})}}class B extends M{getData(){const t=m("pangrams"),e=m("foundPangrams");return[["âœ“","?","âˆ‘"],[e,t-e,t]]}constructor(t){super(t,{title:"Pangrams",description:"The number of pangrams",cssMarkers:{completed:(t,e)=>0===t[1]},hasHeadCol:!1,shortcuts:[{combo:"Shift+Alt+P",method:"togglePane"}]})}}class H extends ${togglePopup(){if(this.popup.isOpen)return this.popup.toggle(!1),this;const t=g("foundTerms"),e=g("answers"),a=this.getPointsToNextTier(),o=100*t/e;let s;return s=a?z.span({content:["Progress: ",z.b({content:t+"/"+e})," points or ",z.b({content:Math.min(Number(Math.round(o+"e2")+"e-2"),100)+"%"}),". Only ",z.b({content:a-t})," more points to your next milestone!"]}):z.span({content:["Congratulations, youâ€™ve found all ",z.b({content:t})," points!"]}),this.popup.setContent("subtitle",z.span({content:s})).setContent("body",this.getPane()).toggle(!0),this}getData(){const t=g("answers");return[["Beginner",0],["Good Start",2],["Moving Up",5],["Good",8],["Solid",15],["Nice",25],["Great",40],["Amazing",50],["Genius",70],["Queen Bee",100]].map((e=>[e[0],Math.round(e[1]/100*t),e[1]]))}getCurrentTier(){return this.getData().filter((t=>t[1]<=g("foundTerms"))).pop()[1]}getPointsToNextTier(){const t=this.getData().filter((t=>t[1]>g("foundTerms"))).shift();return t?t[1]:null}constructor(t){super(t,"Milestones","The number of points required for each level",{cssMarkers:{completed:t=>t[1]<g("foundTerms")&&t[1]!==this.getCurrentTier(),preeminent:t=>t[1]===this.getCurrentTier()},hasHeadRow:!1,hasHeadCol:!1}),this.popup=new E(this.app,this.key).setContent("title",this.title),this.menuAction="popup",this.menuIcon="null",this.shortcuts=[{combo:"Shift+Alt+M",method:"togglePopup"}]}}class I extends w{hasGeniusNo4Letters(){const t=g("answers");return t-b("answers").filter((t=>4===t.length)).length>=Math.round(.7*t)}getPerfectPangramCount(){return b("pangrams").filter((t=>7===t.length)).length}hasBingo(){return 7===Array.from(new Set(b("answers").map((t=>t.charAt(0))))).length}nytCommunity(){const t=`https://www.nytimes.com/${f().print.replace(/-/g,"/")}/crosswords/spelling-bee-forum.html#commentsContainer`;return z.a({content:"NYT Spelling Bee Forum for todayâ€™s game",attributes:{href:t,target:n()}})}bluesky(){const t=["hivemind","nytspellingbee","nytbee","nytsb"].map((t=>z.a({content:`#${t}`,attributes:{href:`https://bsky.app/hashtag/${t}`,target:n()}}))),e=[];return t.forEach((t=>{e.push(t,", ")})),e.pop(),e.push(" on Bluesky"),e}nytSpotlight(){return z.a({content:"Portal to all NYT Spelling Bee Forums",attributes:{href:"https://www.nytimes.com/spotlight/spelling-bee-forum",target:n()}})}redditCommunity(){return z.a({content:"NY Times Spelling Bee Puzzle on Reddit",attributes:{href:"https://www.reddit.com/r/NYTSpellingBee/",target:n()}})}togglePopup(){return this.popup.isOpen?(this.popup.toggle(!1),this):(this.popup.toggle(!0),this)}constructor(t){super(t,"Community","Spelling Bee resources suggested by the community",{canChangeState:!0}),this.shortcuts=[{combo:"Shift+Alt+C",method:"togglePopup"}],this.menuAction="popup",this.menuIcon="null";const e=["two","three","four","five","six","seven","eight","nine","ten"],a=z.ul({content:[z.li({content:[z.h4({content:"Does todayâ€™s game have a Perfect Pangram?"}),z.p({content:(()=>{const t=this.getPerfectPangramCount();switch(t){case 0:return"No, today it doesnâ€™t.";case 1:return"Yes, today thereâ€™s one Perfect Pangram.";default:return`Yes, today there are ${e[t-2]} Perfect Pangrams.`}})()}),z.em({content:'Pangrams that use each letter only once are called "perfect" by the community.'})]}),z.li({content:[z.h4({content:'Does it classify as "Bingo"?'}),z.p({content:this.hasBingo()?"Yes, today is Bingo day!":"No, today it doesnâ€™t."}),z.em({content:'"Bingo" means that all seven letters in the puzzle are used to start at least one word in the word list.'})]}),z.li({content:[z.h4({content:"Is it possible to reach Genius without using 4-letter words?"}),z.p({content:this.hasGeniusNo4Letters()?"Yes, today it is!":"No, today it isnâ€™t."})]}),z.li({content:[z.h4({content:"Forums and Hashtags"}),z.ul({content:[z.li({content:this.nytCommunity()}),z.li({content:this.nytSpotlight()}),z.li({content:this.redditCommunity()}),z.li({content:this.bluesky()})]})]})]});this.popup=new E(this.app,this.key).setContent("title",this.title).setContent("subtitle",this.description).setContent("body",a)}}class G extends w{togglePopup(){if(this.popup.isOpen)return this.popup.toggle(!1),this;const t=b("foundTerms"),e=b("pangrams"),a=z.ul({classNames:["sb-modal-wordlist-items"]});return b("answers").forEach((o=>{a.append(z.li({content:[z.span({classNames:t.includes(o)?["check","checked"]:["check"]}),z.span({classNames:e.includes(o)?["sb-anagram","pangram"]:["sb-anagram"],content:o})]}))})),this.popup.setContent("body",[z.div({content:b("letters").join(""),classNames:["sb-modal-letters"]}),a]).toggle(!0),this}constructor(t){super(t,"Todayâ€™s Answers","Reveals the solution of the game",{canChangeState:!0,defaultState:!1,key:"todaysAnswers"}),this.marker=n("resolved","d"),this.popup=new E(this.app,this.key).setContent("title",this.title).setContent("subtitle",f().display),this.menuAction="popup",this.menuIcon="warning",this.shortcuts=[{combo:"Shift+Alt+T",method:"togglePopup"}]}}class U extends w{toggle(t){return super.toggle(t),this.run()}run(t){const e=b("pangrams"),a=t&&t.detail?t.detail:this.app.resultList;return z.$$("li",a).forEach((t=>{const a=t.textContent;(e.includes(a)||z.$(".pangram",t))&&t.classList.toggle(this.marker,this.getState())})),this}constructor(t){super(t,"Highlight PangramHl","",{canChangeState:!1,runEvt:n("refreshUi")}),this.marker=n("pangram","d"),this.app.on(n("yesterday"),(t=>{this.run(t)})),this.run()}}class F extends w{toggle(t){return super.toggle(t),this.run()}listener(t){return!(!t.target.classList.contains("sb-anagram")||!t.target.closest(".sb-anagram"))&&(0===t.button?(window.open(`https://www.google.com/search?q=${t.target.textContent}`,n()),!0):void 0)}run(t=null){const e=(this.getState()?"add":"remove")+"EventListener";return[this.app.modalWrapper,this.app.resultList.parentElement].forEach((t=>{t[e]("pointerup",this.listener),t.classList.toggle(n("googlified","d"),this.getState())})),this}constructor(t){super(t,"Googlify","Link all result terms to Google",{canChangeState:!1}),this.run()}}class W extends w{constructor(t){super(t,"Styles",""),this.target=z.$("head"),this.ui=z.style({content:'[data-sba-theme]{--dhue: 0;--dsat: 0%;--link-hue: 206;--shadow-light-color: hsl(49, 96%, 50%, 0.35);--shadow-dark-color: hsl(49, 96%, 50%, 0.7);--highlight-text-color: hsl(0, 0%, 0%)}[data-sba-theme=light]{--highlight-bg-color:hsl(52,93%,55%);--text-color:#000;--site-text-color:rgba(0,0,0,.9);--body-bg-color:#fff;--modal-bg-color:hsla(0,0%,100%,.85);--border-color:hsl(0,0%,86%);--area-bg-color:hsl(0,0%,90%);--invalid-color:hsl(0,0%,68%);--menu-hover-color:hsl(0,0%,96%);--head-row-bg-color:hsl(0,0%,96%);--card-color:hsla(52,93%,55%,.1);--link-color:hsl(var(--link-hue), 45%, 38%);--link-visited-color:hsl(var(--link-hue), 45%, 53%);--link-hover-color:hsl(var(--link-hue), 45%, 53%);--success-color:hsl(113,71%,38%)}[data-sba-theme=dark]{--highlight-bg-color:hsl(49,96%,50%);--text-color:hsl(var(--dhue), var(--dsat), 85%);--site-text-color:hsl(var(--dhue), var(--dsat), 100%, 0.9);--body-bg-color:hsl(var(--dhue), var(--dsat), 7%);--modal-bg-color:hsl(var(--dhue), var(--dsat), 7%, 0.85);--border-color:hsl(var(--dhue), var(--dsat), 20%);--area-bg-color:hsl(var(--dhue), var(--dsat), 22%);--invalid-color:hsl(var(--dhue), var(--dsat), 50%);--menu-hover-color:hsl(var(--dhue), var(--dsat), 22%);--head-row-bg-color:hsl(var(--dhue), var(--dsat), 13%);--card-color:hsl(var(--dhue), var(--dsat), 22%);--link-color:hsl(var(--link-hue), 90%, 64%);--link-visited-color:hsl(var(--link-hue), 90%, 76%);--link-hover-color:hsl(var(--link-hue), 90%, 76%);--success-color:hsl(113,90%,64%)}body{background:var(--body-bg-color);color:var(--text-color)}body .pz-game-field{background:var(--body-bg-color);color:var(--text-color)}body[data-sba-theme=dark] .pz-game-wrapper,body[data-sba-theme=dark] #js-hook-pz-moment__loading{background:var(--body-bg-color) !important;color:var(--text-color)}body .pz-game-wrapper .sb-modal-message a{color:var(--link-color)}body .pz-game-wrapper .sb-modal-message a:visited{color:var(--link-visited-color)}body .pz-game-wrapper .sb-modal-message a:hover{color:var(--link-hover-color)}body .pz-game-wrapper .sb-progress-marker .sb-progress-value,body .pz-game-wrapper .hive-cell:first-child .cell-fill{background:var(--highlight-bg-color);fill:var(--highlight-bg-color);color:var(--highlight-text-color)}body .pz-game-wrapper .sba-color-selector .hive .hive-cell .cell-fill,body .pz-game-wrapper .hive-cell .cell-fill{fill:var(--area-bg-color)}body[data-sba-theme=dark] .sb-message{background:var(--area-bg-color)}body[data-sba-theme=dark] .pangram-message .sb-message{background:var(--highlight-bg-color);color:var(--highlight-text-color)}body[data-sba-theme=dark] .hive-action__shuffle{position:relative}body[data-sba-theme=dark] .sb-progress-value{font-weight:bold}body[data-sba-theme=dark] .pz-icon-close{filter:invert(1)}body[data-sba-theme=dark].pz-mobile .pz-toolbar-button,body[data-sba-theme=dark].pz-mobile .pz-dropdown__button{background-color:rgba(0,0,0,0) !important}body[data-sba-theme=dark] .pz-moment__frame.pz-moment__welcome *{color:var(--text-color)}body[data-sba-theme=dark] .sb-toggle-icon,body[data-sba-theme=dark] .sb-kebob .sb-bob-arrow,body[data-sba-theme=dark] .hive-action__shuffle{background-position:-1000px}body[data-sba-theme=dark] .sb-toggle-icon:after,body[data-sba-theme=dark] .sb-kebob .sb-bob-arrow:after,body[data-sba-theme=dark] .hive-action__shuffle:after{content:"";opacity:.85;top:0;left:0;bottom:0;right:0;position:absolute;z-index:0;filter:invert(1);background-image:inherit;background-repeat:inherit;background-position:center;background-size:inherit}#js-logo-nav rect{fill:var(--body-bg-color)}#js-logo-nav path{fill:var(--text-color)}.pz-moment__loading{color:#000}.pz-nav__hamburger-inner,.pz-nav__hamburger-inner::before,.pz-nav__hamburger-inner::after{background-color:var(--text-color)}.pz-nav{width:100%;background:var(--body-bg-color)}.pz-modal__button.white,.pz-footer,.pz-moment,.sb-modal-scrim{background:var(--modal-bg-color) !important;color:var(--text-color) !important}.pz-modal__button.white .pz-moment__button.secondary,.pz-footer .pz-moment__button.secondary,.pz-moment .pz-moment__button.secondary,.sb-modal-scrim .pz-moment__button.secondary{color:#fff}.pz-moment__frame:is(.pz-moment__congrats,.pz-moment__welcome) .pz-moment__button.secondary{color:var(--text-color)}.pz-moment__frame:is(.pz-moment__congrats,.pz-moment__welcome) .pz-moment__button.secondary:hover{color:var(--body-bg-color)}.sb-modal-wrapper .sb-modal-frame{border:1px solid var(--border-color);background:var(--body-bg-color);color:var(--text-color)}.sb-modal-wrapper .pz-modal__title,.sb-modal-wrapper .sb-modal-close{color:var(--text-color)}.pz-moment__close::before,.pz-moment__close::after{background:var(--text-color)}.pz-moment__close_text{color:currentColor}.pz-modal__button.white:hover{background:var(--area-bg-color)}.sb-input-invalid{color:var(--invalid-color)}.sb-toggle-expand{box-shadow:none}.sb-input-bright,.sb-progress-dot.completed::after{color:var(--highlight-bg-color)}.hive-cell .cell-fill{stroke:var(--body-bg-color)}.hive-cell .cell-letter{fill:var(--text-color)}.hive-cell.center .cell-letter{fill:var(--highhlight-text-color)}.hive-action{background-color:var(--body-bg-color);color:var(--text-color)}.hive-action.push-active{background:var(--menu-hover-color)}[data-sba-theme] .sb-modal-wordlist-items li,.sb-wordlist-items-pag>li,.pz-ad-box,.pz-game-toolbar,.pz-spelling-bee-wordlist,.hive-action,.sb-wordlist-box,.sb-message{border-color:var(--border-color)}.sb-toggle-expand{background:var(--body-bg-color)}.sb-progress-line,.sb-progress-dot::after,.pz-nav::after{background:var(--border-color)}.sb-bob{background-color:var(--border-color)}.sb-bob.active{background-color:var(--text-color)}.hive-action.push-active.sba-no-feedback{background:var(--body-bg-color) !important}.sba{background:var(--body-bg-color);border-radius:6px;border-style:solid;border-width:1px}.sba *:focus{outline:0}.sba ::selection{background:rgba(0,0,0,0)}.sba details{font-size:90%;margin-bottom:1px}.sba summary{font-size:13px;line-height:20px;padding:1px 6px 0 6px;background:var(--area-bg-color);color:var(--text-color);cursor:pointer;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border:1px solid var(--border-color)}[data-ui].inactive{display:none}.sba-data-pane{border:1px solid var(--border-color);width:100%;font-size:85%;margin-bottom:2px;border-collapse:collapse;table-layout:fixed;border-top:none}.sba-data-pane[data-cols="3"] :is(th,td){width:33.3333333333%}.sba-data-pane[data-cols="4"] :is(th,td){width:25%}.sba-data-pane[data-cols="5"] :is(th,td){width:20%}.sba-data-pane[data-cols="6"] :is(th,td){width:16.6666666667%}.sba-data-pane[data-cols="7"] :is(th,td){width:14.2857142857%}.sba-data-pane[data-cols="8"] :is(th,td){width:12.5%}.sba-data-pane[data-cols="9"] :is(th,td){width:11.1111111111%}.sba-data-pane[data-cols="10"] :is(th,td){width:10%}.sba-data-pane th{text-transform:uppercase;background:var(--head-row-bg-color)}.sba-data-pane .sba-preeminent{font-weight:bold;border-bottom:2px solid var(--highlight-bg-color) !important}.sba-data-pane .sba-completed td,.sba-data-pane td.sba-completed{color:var(--invalid-color);font-weight:normal}.sba-data-pane .sba-hidden{display:none}.sba-data-pane :is(th,td){border:1px solid var(--border-color);border-top:none;white-space:nowrap;text-align:center;padding:3px 2px}.sba-data-pane th{background-color:var(--head-row-bg-color)}[data-ui=community] h4{font-weight:700;font-family:nyt-franklin;font-size:18px;margin:0 0 1px 0}[data-ui=community] p{margin:0 0 2px 0;font-size:16px}[data-ui=community] em{display:block;font-weight:normal;font-weight:500;font-size:14px;font-family:nyt-franklin}[data-ui=community] li{margin:0 0 12px 0}[data-ui=community] li ul{padding-left:20px;list-style:disc}[data-ui=community] li ul li{margin:0}[data-ui=community] li ul li a{color:var(--link-color)}[data-ui=community] li ul li a:hover{color:var(--link-hover-color)}[data-ui=community] .sb-modal-body{margin-top:0;padding-bottom:10px}[data-ui=milestones] b{font-weight:700}[data-ui=milestones] .sba-data-pane{margin-left:5px;max-width:300px;border:none}[data-ui=milestones] .sba-data-pane tr.sba-completed td{color:var(--text-color)}[data-ui=milestones] .sba-data-pane tr td{border:none;text-align:left;line-height:1.8}[data-ui=milestones] .sba-data-pane tr td:nth-child(n+2){text-align:right;width:80px}[data-ui=milestones] .sba-data-pane tr td:nth-child(2)::after{content:" pts."}[data-ui=milestones] .sba-data-pane tr td:last-child::after{content:"%"}[data-ui=header]{font-weight:bold;line-height:32px;flex-grow:2;text-indent:1px;justify-content:space-between;align-items:center}[data-ui=progressBar]{-webkit-appearance:none;appearance:none;width:100%;border-radius:0;margin:0;height:6px;padding:0;background:rgba(0,0,0,0);display:block;border:none;border-bottom:1px var(--border-color) solid}[data-ui=progressBar]::-webkit-progress-bar{background-color:rgba(0,0,0,0)}[data-ui=progressBar]::-webkit-progress-value{background-color:var(--highlight-bg-color);height:4px}[data-ui=progressBar]::-moz-progress-bar{background-color:var(--highlight-bg-color)}[data-ui=spillTheBeans]{text-align:center;padding:14px 0;font-size:38px;margin-top:-24px}[data-ui=menu]{position:relative;z-index:1}[data-ui=menu] .pane{color:var(--text-color);background:var(--body-bg-color);border:1px var(--border-color) solid;padding:5px;width:179px}[data-ui=menu] li{position:relative;line-height:1.8;white-space:nowrap;cursor:pointer;overflow:hidden;display:block;padding:5px 9px 5px 36px;font-size:14px}[data-ui=menu] li::before,[data-ui=menu] li::after{position:absolute;display:block}[data-ui=menu] li[data-icon=checkmark].checked::after{content:"âœ”";color:var(--highlight-bg-color);top:3px;left:14px;font-size:16px}[data-ui=menu] li[data-target=darkModeColors],[data-ui=menu] li[data-icon=sba]{border-top:1px solid var(--border-color)}[data-ui=menu] li[data-icon=sba]{color:currentColor}[data-ui=menu] li[data-icon=sba]:hover{color:var(--link-hover-color);text-decoration:underline}[data-ui=menu] li svg{display:inline-block;width:20px;height:20px;position:absolute;left:7px;top:6px}[data-ui=menu] li svg .shape{fill:var(--text-color)}[data-ui=menu] li svg .content{fill:var(--highlight-bg-color)}.sba-color-selector{display:flex;justify-content:space-between;gap:10px}.sba-color-selector svg{width:120px;height:120px;display:block}[data-ui=darkModeColors] .hive{width:auto;padding:0;flex-grow:2;display:flex}[data-ui=darkModeColors] .hive-cell{position:static;margin:auto;border:1px solid var(--border-color);padding:20px;width:168px;height:100%;border-radius:6px}[data-ui=darkModeColors] .cell-letter{font-size:8px;font-weight:600}.sba-swatches{display:flex;flex-wrap:wrap;list-style:none;justify-content:space-around;padding:0;width:220px}.sba-swatches li{position:relative;overflow:hidden;margin-bottom:5px}.sba-swatches label{border:1px var(--border-color) solid;display:block;width:50px;height:50px;overflow:hidden;cursor:pointer}.sba-swatches input{position:absolute;left:-100px}.sba-swatches input:checked~label{border-color:var(--highlight-bg-color)}.sba-googlified .sb-anagram{cursor:pointer}.sba-googlified .sb-anagram:hover{text-decoration:underline;color:var(--link-hover-color)}:is(#portal-game-toolbar,#js-mobile-toolbar) *{color:var(--text-color);border-color:var(--border-color)}:is(#portal-game-toolbar,#js-mobile-toolbar) *::selection{background-color:var(--body-bg-color)}:is(#portal-game-toolbar,#js-mobile-toolbar) .pz-dropdown__arrow{border-top-color:var(--text-color);border-bottom-color:var(--text-color);border-right-color:rgba(0,0,0,0);border-left-color:rgba(0,0,0,0)}.pz-mobile .pz-toolbar-button__sba{color:var(--text-color)}:is(.pz-dropdown,.pz-mobile-dropdown) :is(button[class*=pz-dropdown__],a[class*=pz-dropdown__]){background-color:var(--body-bg-color) !important}:is(.pz-dropdown,.pz-mobile-dropdown) :is(button[class*=pz-dropdown__],a[class*=pz-dropdown__]):hover{background:var(--menu-hover-color)}[data-sba-theme=dark] #portal-game-toolbar i,[data-sba-theme=dark] #js-mobile-toolbar i{filter:invert(1);background-color:rgba(0,0,0,0)}[data-sba-theme=dark] .conversion-banner__icon{filter:invert(1)}[data-sba-theme=dark] :is(.sb-stats-bar-rank__word-count,.sb-stats-bar-rank__text){filter:contrast(99%);color:#999}[data-sba-theme] .sb-modal-wordlist-items li .check.checked{border:none;height:auto;transform:none}[data-sba-theme] .sb-modal-wordlist-items li .check.checked::after{position:relative;content:"âœ”";color:var(--highlight-bg-color);top:4px;font-size:16px}[data-sba-theme] .sb-modal-header .sb-modal-letters{position:relative;top:-5px}.pz-toolbar-button:hover,[data-ui=menu] li:hover{background:var(--menu-hover-color);color:var(--text-color)}.pz-toolbar-button::selection,[data-ui=menu] li::selection{background-color:rgba(0,0,0,0)}[data-sba-submenu=true] [data-ui=menu]{background:var(--menu-hover-color);color:var(--text-color)}[data-ui=grid] table{border-top:1px solid var(--border-color);margin-left:-20px;width:calc(100% + 40px)}[data-ui=grid] tbody tr:last-child td{background-color:var(--head-row-bg-color)}[data-ui=grid] tbody tr td{padding:5px 0 !important}[data-ui=grid] tbody tr td:last-of-type{background-color:var(--head-row-bg-color)}.sba details[open] summary:before{transform:rotate(-90deg);left:10px;top:1px}.sba summary{list-style:none;padding:1px 15px 0 21px}.sba summary::marker{display:none}.sba summary:before{content:"â¯";font-size:9px;position:absolute;display:inline-block;transform:rotate(90deg);transform-origin:center;left:7px;top:0}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items)>li{position:relative}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items)>li.sba-pangram{font-weight:700;border-bottom:2px var(--highlight-bg-color) solid}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items)>li .sba-marks{position:absolute;right:0;bottom:3px}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items)>li .sba-marks mark{display:none}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items).sba-mark-s-active .sba-mark-s{display:inline-block}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items).sba-mark-p-active .sba-mark-p{display:inline-block}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items).sba-mark-d-active .sba-mark-d{display:inline-block}[data-sba-theme] :is(.sb-wordlist-items-pag,.sb-modal-wordlist-items).sba-mark-c-active .sba-mark-c{display:inline-block}[data-sba-theme] mark{background:rgba(0,0,0,0);font-size:11px;pointer-events:none;text-transform:uppercase}[data-sba-theme] mark::after{content:" "}[data-sba-theme] mark:last-of-type::after{content:normal}[data-sba-theme] mark::selection{background-color:rgba(0,0,0,0)}[data-sba-theme] .sba-pop-up.sb-modal-frame .sb-modal-content .sba-modal-footer{text-align:right;font-size:13px;border-top:1px solid var(--border-color);padding:10px 10px 0 10px}.sb-modal-frame .sb-modal-content::after{background:linear-gradient(180deg, transparent 0%, var(--modal-bg-color) 56.65%, var(--body-bg-color) 100%)}.sba-container{display:none}.sba{margin:var(--sba-app-margin);width:var(--sba-app-width);padding:var(--sba-app-padding);box-sizing:border-box}.sba *,.sba *:before,.sba *:after{box-sizing:border-box}[data-ui=menu] .pane{display:none}.pz-mobile [data-ui=menu]{display:flex;align-items:center;height:100%;padding:0 6px}[data-sba-submenu=true]{overflow-y:hidden}[data-sba-submenu=true] .sba{position:relative;left:-167px;top:-175px}[data-sba-submenu=true] .pz-mobile-dropdown.show .pz-dropdown__list{display:none}[data-sba-submenu=true] .pz-game-toolbar{position:relative;z-index:4}[data-sba-submenu=true] [data-ui=menu] .pane{display:block;position:absolute;right:-16px;top:45px}[data-sba-submenu=true] .sba{left:-167px;top:0px}[data-sba-submenu=true].pz-desktop .pane{right:-16px;top:55px}[data-sba-active=true]{--sba-app-width: 100px;--sba-app-padding: 0;--sba-app-margin: 0;--sba-game-offset: 12px;--sba-game-width: 1256px;--sba-mobile-threshold: 900px}[data-sba-active=true] .sba-container{display:block;position:absolute;top:50%;transform:translate(0, -50%);right:var(--sba-game-offset);z-index:1}[data-sba-active=true] .sba{border-color:rgba(0,0,0,0)}[data-sba-active=true] [data-ui=header]{display:none}[data-sba-active=true][data-sba-submenu=true] .sba-container{top:0;height:0;z-index:4}[data-sba-active=true] .sb-expanded .sba-container{visibility:hidden;pointer-events:none}[data-sba-active=true] .sb-content-box{max-width:var(--sba-game-width);justify-content:space-between;position:relative}[data-sba-active=true] .sb-controls-box{max-width:calc(100vw - var(--sba-app-width))}@media(max-width: 370px){[data-sba-active=true] .sb-hive{width:70%}[data-sba-active=true].pz-spelling-bee-wordlist .hive-action:not(.hive-action__shuffle){font-size:.9em;margin:0 4px 8px;padding:23px 0}[data-sba-active=true] .hive-action:not(.hive-action__shuffle){width:71px;min-width:auto}}@media(max-width: 450px){[data-ui=grid] table{table-layout:auto}[data-ui=grid] table.sba-data-pane tbody th{width:28px !important}[data-ui=grid] table.sba-data-pane thead th:first-of-type{width:28px !important}[data-ui=grid] table.sba-data-pane :is(thead,tbody) tr :is(th,td){width:auto;font-size:90%}}[data-sba-active] .pz-game-toolbar .pz-row{padding:0}@media(min-width: 516px){[data-sba-active] .pz-game-toolbar .pz-row{padding:0 12px}[data-sba-active].pz-desktop .sba{left:-175px}[data-ui=overview] .sba-data-pane tbody th{text-transform:none;width:31%}[data-ui=overview] .sba-data-pane tbody td{width:23%}[data-ui=overview] .sba-data-pane tbody tr:nth-child(1) th::after{content:"ords"}[data-ui=overview] .sba-data-pane tbody tr:nth-child(2) th::after{content:"oints"}[data-ui=overview] .sba-data-pane thead th{width:23%}[data-ui=overview] .sba-data-pane thead th:first-of-type{width:31%}[data-sba-active=true]{--sba-app-width: 138px;--sba-app-padding: 0 5px 5px}[data-sba-active=true] .sba{border-color:var(--border-color)}[data-sba-active=true] [data-ui=header]{display:flex}}@media(min-width: 900px){[data-sba-submenu=true].pz-desktop [data-ui=menu] .pane{right:0;top:55px}[data-sba-active=true]{--sba-app-width: 160px;--sba-app-padding: 0 8px 8px;--sba-app-margin: 66px 0 0 0}[data-sba-active=true] .sb-content-box{padding:0 var(--sba-game-offset)}[data-sba-active=true] .sb-controls-box{max-width:none}[data-sba-active=true] .sba-container{position:static;transform:none}[data-sba-active=true] .sb-expanded .sba-container{z-index:1}[data-sba-active=true][data-sba-submenu=true] .sba{top:-66px}[data-sba-active=true].pz-desktop .sba{left:-191px}}@media(min-width: 1298px){[data-sba-active=true][data-sba-submenu=true] .sba{left:-179px}}@media(min-width: 768px){[data-sba-theme].pz-page .sba-pop-up.sb-modal-frame .sb-modal-content .sb-modal-body{padding-right:56px}[data-sba-theme].pz-page .sba-pop-up.sb-modal-frame .sb-modal-content .sb-modal-header{padding-right:56px}[data-sba-theme].pz-page .sba-pop-up.sb-modal-frame .sb-modal-content .sba-modal-footer{text-align:right;border-top:1px solid var(--border-color);padding-top:10px;width:calc(100% - 112px);margin:-8px auto 15px}}\n'}),t.on(n("destroy"),(()=>this.ui.remove()))}}var Y='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.042 15.915c-.418-.09-.867-.402-1.116-.776-.192-.289-.273-.558-.3-1C.561 13.06.517 5.163.574 4.573c.017-.185.032-.232.099-.314a.774.774 0 01.18-.156l.102-.059 7.291.007c6.859.006 7.304.01 7.52.053 1.545.312 2.778 1.251 3.324 2.531.125.293.21.592.284 1.008.089.492.09 1.307.004 1.734-.35 1.725-1.687 3.002-3.553 3.393a5.827 5.827 0 01-1.218.13c-.255.005-.427.02-.464.04-.102.055-.13.155-.147.528-.027.6-.119.996-.32 1.387-.253.492-.614.795-1.163.978l-.196.065-2.762.029c-3.94.04-7.293.034-7.513-.013zm13.386-4.909c.38-.033.602-.094.892-.243a2.398 2.398 0 001.257-1.645c.054-.266.055-.91.002-1.193-.166-.873-.74-1.596-1.492-1.88-.321-.12-.51-.142-1.232-.142h-.665l-.171.153-.008 2.365c-.004 1.3 0 2.392.008 2.426.008.033.046.09.083.124.067.062.078.063.538.063.258 0 .613-.013.788-.028z" fill="#fff"/><path d="M7.158 13.565c.191.064.255 0 .255 0s2.228-2.037 3.246-3.247c.892-1.082.955-2.8-.573-3.501-1.527-.7-2.8.764-2.8.764a2.508 2.508 0 00-3.502-.382l-.063.064c-.764.827-.51 2.228.063 2.992a38.304 38.304 0 003.247 3.183z" fill="#ff5e5b"/><path class="shape" d="M.984 3.495a.266.266 0 00-.038.003c-.51.071-.903.498-.93 1.013a.266.266 0 000 .014v.191c0 .003-.064 6.17.064 9.56a.266.266 0 000 .004 2.364 2.364 0 002.368 2.225c.002 0 6.42 0 9.485-.064h.445a.266.266 0 00.064-.007c.965-.241 1.523-.842 1.803-1.481.244-.556.26-1.096.27-1.54 1.708.003 3.202-.561 4.19-1.59 1.036-1.077 1.523-2.622 1.193-4.35a4.436 4.436 0 00-1.96-3.04 5.15 5.15 0 00-2.95-.938zm.033.532h13.97a4.617 4.617 0 012.649.843.266.266 0 00.007.005 3.903 3.903 0 011.728 2.682.266.266 0 00.003.01c.304 1.58-.133 2.93-1.053 3.888s-2.338 1.522-4.024 1.461a.266.266 0 00-.276.268c0 .432-.034 1.032-.264 1.555-.227.519-.625.963-1.43 1.17h-.395a.266.266 0 00-.005 0c-3.048.064-9.48.063-9.48.063a.266.266 0 00-.002 0A1.823 1.823 0 01.612 14.25C.486 10.89.55 4.718.55 4.718a.266.266 0 000-.002v-.178a.545.545 0 01.467-.51zm13.271 1.886a.266.266 0 00-.266.268v4.583a.266.266 0 00.26.266c.48.012.961-.009 1.439-.065a.266.266 0 00.027-.005 2.4 2.4 0 001.86-2.557 2.535 2.535 0 00-.564-1.622 2.178 2.178 0 00-1.81-.868zm.267.534h.688a.266.266 0 00.009 0 1.643 1.643 0 011.37.656.266.266 0 00.006.01c.297.364.457.822.45 1.292a.266.266 0 00.002.03 1.862 1.862 0 01-1.443 2.002c-.359.041-.72.048-1.081.048z"/></svg>';const R={warning:'<svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n <path class="content" d="M11.998 4.625l9.228 15.98H2.773z"/>\r\n <path class="shape" d="m12.006 1.5059a.75.75 0 00-.64844.375l-11.252 19.488a.75.75 0 00.65039 1.125h22.506a.75.75 0 00.64844-1.125l-11.254-19.488a.75.75 0 00-.65039-.375zm.001953 2.25 9.9531 17.238h-19.906l9.9531-17.238z"/>\r\n <path fill="#000" d="m13.44 9.4763-.317 7.306h-2.247l-.317-7.306zm-.048 10.262h-2.785v-1.82h2.785z"/>\r\n</svg>',coffee:Y};class K extends w{getTarget(){return this.app.envIs("mobile")?z.$("#js-mobile-toolbar"):z.$("#portal-game-toolbar > div:last-of-type")}add(){if(!this.app.envIs("mobile"))return super.add();const t=z.$("#js-global-nav");if(t.classList.contains("show-mobile-toolbar"))return super.add();const e=new MutationObserver((t=>{for(let a of t)if("attributes"===a.type&&"class"===a.attributeName&&a.target.classList.contains("show-mobile-toolbar"))return e.disconnect(),super.add()}));e.observe(t,{attributes:!0})}getComponent(t){return t.dataset.component===this.app.key?this.app:this.app.plugins.has(t.dataset.component)?this.app.plugins.get(t.dataset.component):null}resetSubmenu(){setTimeout((()=>{this.app.domSet("submenu",!1)}),60)}constructor(t){super(t,"Menu",""),this.target=this.getTarget(),this.app.envIs("mobile")&&(this.addMethod="after");const e=["pz-toolbar-button__sba",this.app.envIs("mobile")?"pz-nav__toolbar-item":"pz-toolbar-button"];this.resetSubmenu();const o=z.ul({classNames:["pane"],data:{ui:"submenu"},events:{pointerup:t=>{if("A"===t.target.nodeName)return this.resetSubmenu(),t.target.click(),!0;const e=t.target.closest("li");if(!e||0!==t.button)return this.resetSubmenu(),!0;const a=this.getComponent(e);switch(e.dataset.action){case"boolean":{let t=!a.getState();a.toggle(t),e.classList.toggle("checked",t),a===this.app&&this.app.toggle(t);break}case"popup":this.app.domSet("submenu",!1),a.togglePopup();break;default:this.resetSubmenu()}}},content:z.li({classNames:this.app.getState()?["checked"]:[],attributes:{title:this.app.title},data:{component:this.app.key,icon:"checkmark",action:"boolean"},content:`Show ${a("title")}`})});this.ui=z.div({events:{pointerup:t=>{if(0!==t.button)return!0;t.target.dataset.action||this.app.domSet("submenu",!this.app.domGet("submenu"))}},content:[a("title"),o],aria:{role:"presentation"},classNames:e}),document.addEventListener("keyup",(t=>{!0===this.app.domGet("submenu")&&/^(Ent|Esc|Key|Dig)/.test(t.code)&&this.app.domSet("submenu",!1)})),z.$("#pz-game-root").addEventListener("pointerdown",(t=>{!0===this.app.domGet("submenu")&&this.app.domSet("submenu",!1)})),t.on(n("pluginsReady"),(t=>{t.detail.forEach(((t,e)=>{if(!t.canChangeState||t===this)return!1;const a=t.menuAction||"boolean",s=t.menuIcon||null;o.append(z.li({classNames:"boolean"===a&&t.getState()?["checked"]:[],attributes:{title:t.description},data:{component:e,icon:"boolean"===a?"checkmark":s,action:a},content:R[s]?[R[s],t.title]:t.title}))})),o.append(z.li({attributes:{title:a("support.text")},data:{icon:n(),component:n("web"),action:"link"},content:z.a({content:[Y,a("support.text")],attributes:{href:a("support.url"),target:n()}})}))})),t.on(n("destroy"),(()=>this.ui.remove()))}}var q='<svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n <path d="m0 0v24h24v-24h-24zm2 2h9v9h-9v-9zm11 0h9v9h-9v-9zm-11 11h9v9h-9v-9zm11 0h9v9h-9v-9z" stroke-dasharray="0.5, 0.5" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>\n</svg>\n';class J extends ${togglePopup(){return this.popup.isOpen?(this.popup.toggle(!1),this):(this.popup.setContent("subtitle",this.description).setContent("body",this.getPane()).toggle(!0),this)}run(t){super.run(t);const e=z.$$("tr",this.pane),a=e.length;return e.forEach(((t,e)=>{if(a===e+1)return!1;const o=z.$$("td",t),s=o.length;o.forEach(((t,e)=>{const a=t.textContent.trim().split("/");e<s-1&&2===a.length&&a[0]===a[1]&&t.classList.add(n("completed","d"))}))})),this}getData(){const t=b("foundTerms"),e=b("answers"),a=Array.from(new Set(e.map((t=>t.charAt(0))))).concat(["âˆ‘"]),o=Array.from(new Set(e.map((t=>t.length)))).concat(["âˆ‘"]);o.sort(((t,e)=>t-e)),a.sort();const s=[[""].concat(a)];let r=Object.fromEntries(a.map((t=>[t,{fnd:0,all:0}]))),n=Object.fromEntries(o.map((t=>[t,JSON.parse(JSON.stringify(r))])));e.forEach((e=>{const a=e.charAt(0),o=e.length;n[o][a].all++,n[o]["âˆ‘"].all++,n["âˆ‘"][a].all++,n["âˆ‘"]["âˆ‘"].all++,t.includes(e)&&(n[o][a].fnd++,n[o]["âˆ‘"].fnd++,n["âˆ‘"][a].fnd++,n["âˆ‘"]["âˆ‘"].fnd++)}));for(let[t,e]of Object.entries(n)){const a=[t];Object.values(e).forEach((t=>{a.push(t.all>0?`${t.fnd}/${t.all}`:"-")})),s.push(a)}return s}constructor(t){super(t,"Grid","The number of words by length and by first letter."),this.popup=new E(this.app,this.key).setContent("title",this.title),this.menuAction="popup",this.menuIcon="null",this.panelBtn=z.span({classNames:["sba-tool-btn"],events:{pointerup:()=>this.togglePopup()},attributes:{title:`Show ${this.title}`},content:q}),this.shortcuts=[{combo:"Shift+Alt+G",method:"togglePopup"}]}}class Z extends w{toggleYesterday(){this.triggerPopup(".pz-toolbar-button__yesterday")}toggleStats(){this.triggerPopup(".pz-toolbar-button__stats")}triggerPopup(t){let e=_(this.app);e?(setTimeout(C,50),e.click()):z.$(t)?.click()}constructor(t){super(t,"NYT Shortcuts","Adds keyboard shortcuts to native NYT popups",{key:"nytShortcuts"}),this.selectors={yesterdaysAnswers:".pz-toolbar-button__yesterday",statistics:".pz-toolbar-button__stats"},this.shortcuts=[{combo:"Shift+Alt+Y",method:"toggleYesterday",label:"Yesterday's answers"},{combo:"Shift+Alt+S",method:"toggleStats",label:"Statistics"}].map((t=>({...t,origin:"nyt"})))}}class V extends ${togglePopup(){return this.popup.isOpen?(this.popup.toggle(!1),this):(this.popup.setContent("subtitle",this.description).setContent("body",this.getPane()).toggle(!0),this)}run(t){super.run(t);const e=z.$$("tr",this.pane),a=e.length;return e.forEach(((t,e)=>{if(a===e+1)return!1;const o=z.$$("td",t),s=o.length;o.forEach(((t,e)=>{const a=t.textContent.trim().split("/");e<s-1&&2===a.length&&a[0]===a[1]&&t.classList.add(n("completed","d"))}))})),this}getData(){return[["Plugin","Action","Shortcut","Enabled"]]}constructor(t){super(t,"Shortcuts","SBA Shortcut Commands"),this.popup=new E(this.app,this.key).setContent("title",this.title),this.menuAction="popup",this.menuIcon="null",this.panelBtn=z.span({classNames:["sba-tool-btn"],events:{pointerup:()=>this.togglePopup()},attributes:{title:`Show ${this.title}`},content:q}),this.shortcuts=[{combo:"Shift+Alt+S",method:"togglePopup"}]}}let Q=new Map;const X=new Map([["ctrl",{canonical:"Control",human:"Ctrl"}],["control",{canonical:"Control",human:"Ctrl"}],["alt",{canonical:"Alt",human:"Alt"}],["altgr",{canonical:"AltGraph",human:"AltGr"}],["altgraph",{canonical:"AltGraph",human:"AltGr"}],["meta",{canonical:"Meta",human:"Meta"}],["shift",{canonical:"Shift",human:"Shift"}]]),tt=Array.from(new Set(Array.from(X.values()).map((t=>t.canonical)))),et={nyt:[],sba:[]},at=t=>{const e=t.match(/(?:^|\+)(?:Key|Digit)?([A-Za-z0-9])(?:\+|$)/i);return e?e[1].toUpperCase():""},ot=t=>t&&"object"==typeof t&&"string"==typeof t.combo&&"function"==typeof t.callback,st=t=>{if(t instanceof KeyboardEvent){const e=[];tt.forEach((a=>{t.getModifierState(a)&&e.push(a)})),e.push(t.code),t=e}if(ot(t)&&(t=t.combo),"string"==typeof t){const e=at(t);t=t.split("+").map((t=>t.toUpperCase()===e?(isNaN(t)?"Key":"Digit")+t.toUpperCase():t))}if(!Array.isArray(t))throw new Error("Unsupported input type for combo normalization");const e=t.filter((t=>t.startsWith("Key")||t.startsWith("Digit"))).join("");return(t=t.filter((t=>t!==e)).map((t=>(t=t.toLowerCase(),X.has(t)?X.get(t).canonical:t.charAt(0).toUpperCase()+t.slice(1))))).sort(),e&&t.push(e),t.join("+")},rt=t=>nt(st(t)),nt=t=>Q.get(st(t));var it={add:t=>{if(!ot(t))throw new Error("Invalid shortcut");return t.combo=st(t),t.enabled=!0,t.human=t.combo.split("+").map((t=>X.has(t)?X.get(t).human:t.replace(/^Digit|^Key/,""))).join("+"),Q.has(t.combo)?(console.warn(`Ignoring ${t.human}, this shortcut is already registered`),!1):((t=>{const e=at(t.combo);e&&/^[A-Z]$/.test(e)&&et[t.origin||"sba"].push(e)})(t),Q.set(t.combo,t))},get:nt,normalizeCombo:st,handleShortcut:(t,e)=>{const a=rt(t);return!!a&&(t.preventDefault(),at(st(t))?(C(),a.callback(),!0):(a.callback(),!0))},getCharacterKey:at,requiresDeletion:(t,e)=>{const a=at(st(t));let o=_(e)?et.sba:et.sba.join(et.nyt);return a&&o.includes(a)},getSbaShortcutEntry:rt,registry:Q};const lt=new Map;var dt=()=>lt,ct=(t,e)=>{const a=new t(e);a.add(),lt.set(a.key,a),(a.shortcuts||[]).map((t=>{const e={label:t.label||a.title,module:a.key,callback:()=>a[t.method](),...t};delete e.method,it.add(e)}))};new class extends y{domSet(t,e){return document.body.dataset[n(t)]=e,this}domUnset(t){return delete document.body.dataset[n(t)],this}domGet(t){return void 0!==document.body.dataset[n(t)]&&JSON.parse(document.body.dataset[n(t)])}getSyncData(){let t,e=window.gameData.today.id.toString(),a=Object.keys(localStorage).filter((t=>/^games-state-spelling_bee\/\d+$/.test(t)));return a.length?/nyt-auth-action=logout/.test(document.cookie)?[]:(t=JSON.parse(localStorage.getItem(a.shift())||"{}"),t.states?(t.states=t.states.filter((t=>t.puzzleId===e)),t.states.length&&t.states.shift().data.answers||[]):[]):[]}envIs(t){return document.body.classList.contains("pz-"+t)}focusGame(){return!!this.envIs("desktop")&&(z.$(".pz-moment__welcome.on-stage .pz-moment__button").addEventListener("pointerup",(()=>{window.scrollTo(0,0);const t=z.$(".pz-game-title-bar").getBoundingClientRect(),e=t.top+t.height-z.$(".pz-game-header").offsetHeight;window.scrollTo(0,e)}),!1),!0)}load(){z.waitFor(".sb-wordlist-items-pag",this.gameWrapper).then((t=>{this.observer=this.buildObserver(),u(this,this.getSyncData()),this.modalWrapper=z.$(".sb-modal-wrapper",this.gameWrapper),this.resultList=t,this.add(),this.domSet("active",!0),this.registerPlugins(),it.add(this.shortcut),this.trigger(n("refreshUi")),document.dispatchEvent(new Event(n("ready"))),document.addEventListener("keydown",(t=>{it.getSbaShortcutEntry(t)&&(it.requiresDeletion(t,this)?this._lastShortcutEvent=t:it.handleShortcut(t))})),this.on(n("newInput"),(t=>{const e=t.detail;this._lastShortcutEvent&&(it.handleShortcut(this._lastShortcutEvent,e),this._lastShortcutEvent=null)}));const e={};for(const[t,a]of it.registry){const{label:o,origin:s,callback:r,...n}=a.value,i=n.key,l=n.method;e[i]||(e[i]={expanded:!0,shortcuts:[]}),e[i].shortcuts.push({combo:t,method:l,enabled:!0})}}))}getState(){return this.domGet("active")}toggle(t){return this.domSet("active",t),this}toggleDisplay(){this.toggle(!this.getState())}buildObserver(){const t=new MutationObserver((t=>{t.forEach((t=>{if(!(t.target instanceof HTMLElement))return!1;switch(!0){case"childList"===t.type&&t.target.isSameNode(this.modalWrapper):z.$(".sb-modal-frame.yesterday",t.target)&&this.trigger(n("yesterday"),t.target);break;case"childList"===t.type&&t.target.classList.contains("sb-hive-input-content"):this.trigger(n("newInput"),t.target);break;case"childList"===t.type&&t.target.isSameNode(this.resultList)&&!!t.addedNodes.length&&!!t.addedNodes[0].textContent.trim()&&t.addedNodes[0]instanceof HTMLElement:this.trigger(n("newWord"),t.addedNodes[0].textContent.trim())}}))})),e={target:this.gameWrapper,options:{childList:!0,subtree:!0,attributes:!0}};return t.observe(e.target,e.options),t}buildUi(){const t={};t[n("destroy")]=()=>{this.observer.disconnect(),this.container.remove(),this.domUnset("theme")};const e=[a("prefix")];return z.div({data:{id:this.key,version:a("version")},classNames:e,events:t})}registerPlugins(){return Object.values({Header:P,Overview:T,LetterCount:O,FirstLetter:j,FirstTwoLetters:D,Pangrams:B,ProgressBar:A,Grid:J,SpillTheBeans:L,DarkMode:x,ColorConfig:N,PangramHl:U,Googlify:F,Styles:W,Menu:K,Milestones:H,Community:I,ShortcutScreen:V,TodaysAnswers:G,NytShortcuts:Z}).forEach((t=>{ct(t,this)})),this.plugins=dt(),this.trigger(n("pluginsReady"),this.plugins),this}add(){this.container.append(this.ui),z.$(".sb-content-box",this.gameWrapper).prepend(this.container)}constructor(t){super(a("label"),{canChangeState:!0,key:n("app")});const e=z.$(`[data-id="${this.key}"]`);e&&e.dispatchEvent(new Event(n("destroy"))),this.gameWrapper=t,this.ui=this.buildUi(),this.container=z.div({classNames:[n("container","d")]}),this.shortcut={combo:"Shift+Alt+A",callback:()=>this.toggleDisplay(),module:this.key,label:this.title,enabled:!0},this.load(),console.log(it.registry,JSON.stringify(Array.from(it.registry.entries()),null,2))}}(z.$("#js-hook-game-wrapper"))}();
